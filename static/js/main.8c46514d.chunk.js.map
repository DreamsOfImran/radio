{"version":3,"sources":["radio.jpg","components/Loader.js","components/Radio.js","App.js","index.js"],"names":["Loader","className","LIMIT_OPTIONS","Radio","useState","loading","setLoading","stations","setStations","limit","setLimit","stationFilter","setStationFilter","favorites","setFavorites","useEffect","storedFavorites","JSON","parse","localStorage","getItem","setItem","stringify","setupApi","then","data","a","api","RadioBrowserApi","fetch","bind","window","searchStations","language","setDefaultSrc","event","target","src","defaultImage","map","filter","onClick","value","onChange","e","l","station","index","some","f","changeId","removeFavorite","handleFavorites","favicon","alt","onError","name","urlResolved","showJumpControls","layout","customProgressBarSection","customControlsSection","autoPlayAfterSrcChange","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+NAAe,MAA0B,kC,OCU1BA,EARA,WACb,OACE,qBAAKC,UAAU,SAAf,yBCIEC,G,MAAgB,CAAC,GAAI,GAAI,GAAI,GAAI,KAwHxBC,EAtHD,WAAO,IAAD,EACYC,oBAAS,GADrB,mBACXC,EADW,KACFC,EADE,OAEcF,qBAFd,mBAEXG,EAFW,KAEDC,EAFC,OAGQJ,mBAAS,IAHjB,mBAGXK,EAHW,KAGJC,EAHI,OAIwBN,mBAAS,SAJjC,mBAIXO,EAJW,KAIIC,EAJJ,OAKgBR,mBAAS,IALzB,mBAKXS,EALW,KAKAC,EALA,KAOlBC,qBAAU,WACR,IAAMC,EAAkBC,KAAKC,MAAMC,aAAaC,QAAQ,oBACrDJ,GACDF,EAAaE,KAEd,IAEHD,qBAAU,WACRI,aAAaE,QAAQ,kBAAmBJ,KAAKK,UAAUT,MACtD,CAACA,IAEJE,qBAAU,WACa,cAAlBJ,EACDY,EAASZ,GAAea,MAAK,SAAAC,GAC3BjB,EAAYiB,MAGdjB,EAAYK,KAGb,CAACF,EAAeF,IAEnB,IAAMc,EAAQ,uCAAG,WAAOZ,GAAP,iBAAAe,EAAA,6DACfpB,GAAW,GACLqB,EAAM,IAAIC,kBAAgBC,MAAMC,KAAKC,QAAS,gBAFrC,SAIQJ,EAAIK,eAAe,CACxCC,SAAUtB,EACVF,MAAOA,IANM,cAITF,EAJS,OAQfD,GAAW,GARI,kBAURC,GAVQ,2CAAH,sDAqBR2B,EAAgB,SAACC,GACrBA,EAAMC,OAAOC,IAAMC,GAerB,OACE,sBAAKrC,UAAU,QAAf,UACE,sBAAKA,UAAU,UAAf,UA1BY,CACd,YACA,QACA,UACA,QACA,UAsBasC,KAAI,SAAAC,GAAM,OACjB,sBAEEvC,UAAWU,IAAkB6B,EAAS,WAAa,GACnDC,QAAS,kBAAM7B,EAAiB4B,IAHlC,SAKGA,GAJIA,MAOT,wBAAQvC,UAAU,UAAUyC,MAAOjC,EAAOkC,SAAU,SAACC,GAAD,OAAOlC,EAASkC,EAAER,OAAOM,QAA7E,SACGxC,EAAcqC,KAAI,SAAAM,GAAC,OAClB,yBAAgBH,MAAOG,EAAvB,UAA2BA,EAA3B,cAAaA,WAIlBxC,EAAU,cAAC,EAAD,IACT,qBAAKJ,UAAU,WAAf,SACGM,GAAYA,EAASgC,KAAI,SAACO,EAASC,GAAV,OACxB,sBAAK9C,UAAU,UAAf,UACE,qBAAKA,UAAU,WAAWwC,QAAS,YAlCvB,SAACK,GACvB,GAAGjC,EAAUmC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,WAAaJ,EAAQI,YAAW,CACvD,IAAMC,EAAiBtC,EAAU2B,QAAO,SAAAS,GAAC,OAAIA,EAAEC,WAAaJ,EAAQI,YACpEpC,EAAaqC,GACQ,cAAlBxC,GACDH,EAAY2C,QAGdrC,EAAa,GAAD,mBAAKD,GAAL,CAAgBiC,KA0BsBM,CAAgBN,IAA1D,SACGjC,EAAUmC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,WAAaJ,EAAQI,YAAY,SAAM,WAEhE,sBAAKjD,UAAU,cAAf,UACE,qBACEoC,IAAKS,EAAQO,QACbC,IAAI,eACJrD,UAAU,OACVsD,QAASrB,IAEX,qBAAKjC,UAAU,OAAf,SAAuB6C,EAAQU,UAGjC,cAAC,IAAD,CACEvD,UAAU,SACVoC,IAAKS,EAAQW,YACbC,kBAAkB,EAClBC,OAAO,UACPC,yBAA0B,GAC1BC,sBAAuB,CAAC,gBAAiB,mBACzCC,wBAAwB,MArBEf,YCpF3BgB,MAVf,WACE,OACE,sBAAK9D,UAAU,MAAf,UACE,0DACA,qFACA,cAAC,EAAD,QCJN+D,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.8c46514d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/radio.6085ad72.jpg\";","import React from 'react'\n\nconst Loader = () => {\n  return (\n    <div className=\"loader\">\n      Loading...\n    </div>\n  )\n}\n\nexport default Loader\n","import React, { useEffect, useState } from 'react'\nimport { RadioBrowserApi } from 'radio-browser-api'\nimport AudioPlayer from 'react-h5-audio-player'\nimport defaultImage from '../radio.jpg'\nimport Loader from './Loader'\n\nimport 'react-h5-audio-player/lib/styles.css'\n\nconst LIMIT_OPTIONS = [10, 20, 30, 40, 50]\n\nconst Radio = () => {\n  const [loading, setLoading] = useState(false)\n  const [stations, setStations] = useState()\n  const [limit, setLimit] = useState(30)\n  const [stationFilter, setStationFilter] = useState(\"tamil\")\n  const [favorites, setFavorites] = useState([])\n\n  useEffect(() => {\n    const storedFavorites = JSON.parse(localStorage.getItem(\"radio_favorites\"))\n    if(storedFavorites) {\n      setFavorites(storedFavorites)\n    }\n  }, [])\n\n  useEffect(() => {\n    localStorage.setItem(\"radio_favorites\", JSON.stringify(favorites))\n  }, [favorites])\n\n  useEffect(() => {\n    if(stationFilter !== \"favorites\") {\n      setupApi(stationFilter).then(data => {\n        setStations(data)\n      })\n    } else {\n      setStations(favorites)\n    }\n    // eslint-disable-next-line\n  }, [stationFilter, limit])\n\n  const setupApi = async (stationFilter) => {\n    setLoading(true)\n    const api = new RadioBrowserApi(fetch.bind(window), \"My Radio App\")\n\n    const stations = await api.searchStations({\n      language: stationFilter,\n      limit: limit\n    })\n    setLoading(false)\n\n    return stations\n  }\n\n  const filters = [\n    \"favorites\",\n    \"tamil\",\n    \"english\",\n    \"hindi\",\n    \"telugu\"\n  ]\n\n  const setDefaultSrc = (event) => {\n    event.target.src = defaultImage\n  }\n\n  const handleFavorites = (station) => {\n    if(favorites.some(f => f.changeId === station.changeId)) {\n      const removeFavorite = favorites.filter(f => f.changeId !== station.changeId)\n      setFavorites(removeFavorite)\n      if(stationFilter === \"favorites\") {\n        setStations(removeFavorite)\n      }\n    } else {\n      setFavorites([...favorites, station])\n    }\n  }\n\n  return (\n    <div className=\"radio\">\n      <div className=\"filters\">\n        {filters.map(filter => (\n          <span\n            key={filter}\n            className={stationFilter === filter ? \"selected\" : \"\"}\n            onClick={() => setStationFilter(filter)}\n          >\n            {filter}\n          </span>\n        ))}\n        <select className=\"options\" value={limit} onChange={(e) => setLimit(e.target.value)}>\n          {LIMIT_OPTIONS.map(l => (\n            <option key={l} value={l}>{l} Stations</option>\n          ))}\n        </select>\n      </div>\n      {loading ? <Loader /> : (\n        <div className=\"stations\">\n          {stations && stations.map((station, index) => (\n            <div className=\"station\" key={index}>\n              <div className=\"favorite\" onClick={() => {handleFavorites(station)}}>\n                {favorites.some(f => f.changeId === station.changeId) ? \"♥\" : \"♡\"}\n              </div>\n              <div className=\"stationName\">\n                <img\n                  src={station.favicon}\n                  alt=\"station logo\"\n                  className=\"logo\"\n                  onError={setDefaultSrc}\n                />\n                <div className=\"name\">{station.name}</div>\n              </div>\n\n              <AudioPlayer\n                className=\"player\"\n                src={station.urlResolved}\n                showJumpControls={false}\n                layout=\"stacked\"\n                customProgressBarSection={[]}\n                customControlsSection={[\"MAIN_CONTROLS\", \"VOLUME_CONTROLS\"]}\n                autoPlayAfterSrcChange={false}\n              />\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Radio\n","import './App.scss'\nimport Radio from './components/Radio'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <h1>Super-Duper Radio Player</h1>\n      <h2>Pick a language, choose a station, start listening!</h2>\n      <Radio />\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}